<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{file_name}}</title>
    <link rel="icon" href="https://i.ibb.co/Hh4kF2b/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://unpkg.com/sheryjs/dist/Shery.css" />
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css">
    
    <style>
        body { background-color: #0B101B; font-family: 'Manrope', sans-serif; color: #E5E7EB; }
        nav { background-color: #111827; padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; }
        .nleft a { text-decoration: none; }
        #heading { color: #3B82F6; font-weight: 700; font-size: 1.5rem; }
        .nryt a { color: #E5E7EB; text-decoration: none; margin-left: 20px; font-weight: 600; }
        .outer { display: flex; justify-content: center; padding: 2rem; }
        .main { width: 100%; max-width: 900px; }
        .player { border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .file-name { background-color: #1F2937; padding: 20px; border-radius: 10px; margin-top: 1.5rem; }
        .downloadBtn { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; margin-top: 1.5rem; }
        .downloadBtn button { background-color: #3B82F6; color: #fff; border: none; border-radius: 8px; padding: 12px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
        .downloadBtn button:hover { background-color: #2563EB; transform: translateY(-2px); }
        .downloadBtn button img, .downloadBtn button i { margin-right: 8px; }
        footer { background-color: #111827; color: #9CA3AF; padding: 1.5rem 0; text-align: center; }
        .copyright a { color: #3B82F6; text-decoration: none; }

        /* Preserving original classes for JS compatibility */
        .magnet { display: inline-block; }
        .about-nav { display: none; } /* Hide for simplicity, can be re-enabled */
        .abt { display: none; } /* Hide for simplicity */
    </style>
</head>
<body>
    <nav>
        <div class="nleft">
            <a href="#"><h3 id="heading" class="magnet title">{{template_ne}}</h3></a>
        </div>
    </nav>

    <div class="outer">
        <div class="main" id="main">
            <video id="player" class="player" src="{{file_url}}" type="video/mp4" playsinline controls></video>
            <div class="file-name">
                <h4 style="display: inline;">File Name: </h4>
                <p style="display: inline;" id="myDiv">{{file_name}}</p><br>
                <h4 style="display: inline;">File Size: </h4>
                <p style="display: inline;">{{file_size}}</p>
            </div>
            <div class="downloadBtn">
                <button class="magnet" onclick="streamDownload()"><i class="fas fa-download"></i>Download Video</button>
                <button class="magnet" onclick="copyStreamLink()"><i class="fas fa-link"></i>Copy Link</button>
                <button class="magnet" onclick="vlc_player()"><i class="fas fa-play"></i>Watch in VLC</button>
                <button class="magnet" onclick="mx_player()"><i class="fas fa-play"></i>Watch in MX Player</button>
                <button class="magnet" onclick="n_player()"><i class="fas fa-play"></i>Watch in nPlayer</button>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="copyright">
            <h5 class="text-center">Copyright Â© 2024 <a href="https://telegram.dog/IM_JISSHU">JISSHU DEVELOPER</a>. All Rights Reserved.</h5>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.155.0/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/automat/controlkit.js@master/bin/controlKit.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sheryjs/dist/Shery.js"></script>
    <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>

    <script>
        // Shery.js activation (as per its documentation)
        Shery.mouseFollower();
        Shery.makeMagnet(".magnet");

        // Player Initialization
        const player = new Plyr('#player');
        
        const fileUrl = "{{file_url}}";

        // Button Functions
        function streamDownload() { window.location.href = fileUrl; }
        function copyStreamLink() {
            navigator.clipboard.writeText(fileUrl).then(() => {
                alert("Stream Link Copied!");
            });
        }
        function vlc_player() { window.location.href = `vlc://${fileUrl}`; }
        function mx_player() { window.location.href = `intent:${fileUrl}#Intent;package=com.mxtech.videoplayer.ad;end`; }
        function n_player() { window.location.href = `nplayer-${fileUrl}`; }

        // Placeholder functions from original script to avoid errors
        function toggleWidthnav(e) { console.log("Nav toggled"); }
        function toggleWidth(e) { console.log("Width toggled"); }
        function getDets() { alert("Movie suggestion feature coming soon!"); }
    </script>
</body>
</html>
